{% extends 'main/index.html.twig' %}

{% block title %}{{ 'process.show.title'|trans }}{% endblock %}

{% block content %}
  <div class="row">
    <div class="col">
      <h1>{{ 'process.show.title'|trans }}</h1>

      {{ form(process_type_form) }}

      <table class="table">
        <tbody>
        <tr>
          <th>{{ 'process.table.id'|trans }}</th>
          <td>{{ process.id }}</td>
        </tr>
        <tr>
          <th>{{ 'process.table.client_cpr'|trans }}</th>
          <td>{{ process.clientCPR }}</td>
        </tr>
        <tr>
          <th>{{ 'process.table.case_worker'|trans }}</th>
          <td>{{ process.caseWorker }}</td>
        </tr>
        <tr>
          <th>{{ 'process.table.channel'|trans }}</th>
          <td>{{ process.channel }}</td>
        </tr>
        <tr>
          <th>{{ 'process.table.process_type'|trans }}</th>
          <td>{{ process.processType }}</td>
        </tr>
        <tr>
          <th>{{ 'process.table.service'|trans }}</th>
          <td>{{ process.service }}</td>
        </tr>

        <tr>
          <th>{{ 'common.table.created_by'|trans }}</th>
          <td>{{ process.createdBy }}</td>
        </tr>
        <tr>
          <th>{{ 'common.table.created_at'|trans }}</th>
          <td>{{ process.createdAt|date('Y-m-d') }}</td>
        </tr>
        <tr>
          <th>{{ 'common.table.updated_by'|trans }}</th>
          <td>{{ process.createdBy }}</td>
        </tr>
        <tr>
          <th>{{ 'common.table.updated_at'|trans }}</th>
          <td>{{ process.updatedAt|date('Y-m-d') }}</td>
        </tr>
        <tr>
          <th>{{ 'process.table.reminders'|trans }}</th>
          <td>
            <a href="{{ path('reminder_index', {'process': process.id}) }}">{{ 'process.table.reminders_open'|trans({'%numberOfReminders%': process.reminders|length}) }}</a>
          </td>
        </tr>
        <tr>
          <th>{{ 'process.table.diary'|trans }}</th>
          <td>
            {% include '@KontrolgruppenCore/journal_entry/_journal_entry_list.html.twig'  with { journalEntries: latestDiaryEntries, limit: 2 } %}
            <a href="{{ path('journal_entry_index', {'process': process.id}) }}">
              {{ 'process.table.journal'|trans({'%numberOfJournalEntries%': latestDiaryEntries|length}) }}
            </a>
          </td>
        </tr>
        <tr>
          <th>{{ 'process.table.note'|trans }}</th>
          <td>
            {% include '@KontrolgruppenCore/journal_entry/_journal_entry_list.html.twig'  with { journalEntries: latestNoteEntries, limit: 2 } %}
            <a href="{{ path('journal_entry_index', {'process': process.id}) }}">
              {{ 'process.table.journal'|trans({'%numberOfJournalEntries%': latestNoteEntries|length}) }}
            </a>
          </td>
        </tr>
        <tr>
          <th>{{ 'process.table.internal_note'|trans }}</th>
          <td>
            {% include '@KontrolgruppenCore/journal_entry/_journal_entry_list.html.twig'  with { journalEntries: latestInternalNoteEntries, limit: 2 } %}
            <a href="{{ path('journal_entry_index', {'process': process.id}) }}">
              {{ 'process.table.journal'|trans({'%numberOfJournalEntries%': latestInternalNoteEntries|length}) }}
            </a>
          </td>
        </tr>
        </tbody>
      </table>

      <a href="{{ path('process_index') }}">{{ 'common.back_to_list'|trans }}</a>

      <a href="{{ path('process_edit', {'id': process.id}) }}">{{ 'common.actions.edit'|trans }}</a>

      {{ include('process/_delete_form.html.twig') }}
    </div>
  </div>
{% endblock %}
