{% extends '@KontrolgruppenCore/main/index.html.twig' %}

{% block title %}{{ 'dashboard.index.title'|trans }}{% endblock %}

{% block content %}
    <h1 class="mb-3">{{ 'dashboard.index.title'|trans }}</h1>

    {% if reminders|length > 0 %}
    <div class="mb-3">
      <h2><i class="fas {{ iconClass('reminder') }} mr-3"></i>{{ 'dashboard.reminders.title'|trans }} ({{ reminders|length }})</h2>
      {% include '@KontrolgruppenCore/reminder/_reminder_list.html.twig' with {reminders: reminders} %}
    </div>
    {% endif %}

    <div class="mb-3">
      <h2 class="mb-3"><i class="fas {{ iconClass('not-assigned') }} mr-3"></i>{{ 'dashboard.not_assigned.title'|trans }} ({{ unassignedProcesses|length }})</h2>
      {% include '@KontrolgruppenCore/process/_process_list.html.twig' with {processes: unassignedProcesses} %}
    </div>

    <div class="mb-3">
      <h2 class="mb-3"><i class="fas {{ iconClass('process') }} mr-3"></i>{{ 'dashboard.my_processes.title'|trans }} ({{ myProcesses|length }})</h2>
      {% include '@KontrolgruppenCore/process/_process_list.html.twig' with {processes: myProcesses} %}
    </div>

    <div>
      <h2 class="mb-3"><i class="fas {{ iconClass('not-visited') }} mr-3"></i>{{ 'dashboard.not_visited.title'|trans }}</h2>
      <p class="alert alert-info">TODO: Show cases not visited lately. Defined by user select.</p>
    </div>

    {% include '@KontrolgruppenCore/journal_entry/_modal_quick_view.html.twig' %}

{% endblock %}

{% block sidebar_right %}
  <div class="bg-warning-light p-3 mb-3">
    {% include '@KontrolgruppenCore/reminder/_reminder_list_future.html.twig' %}
  </div>

  <div class="bg-light p-3">
    <p>{{ 'dashboard.latest_activity.title'|trans }}</p>
    <p class="alert alert-info">TODO: Latest activity</p>
  </div>
{% endblock %}

{% block javascripts %}
  {{ parent() }}

  <script type="text/javascript" src="{{ asset('bundles/kontrolgruppencore/build/reminderLatest.js') }}"></script>
  <script type="text/javascript" src="{{ asset('bundles/kontrolgruppencore/build/journalQuickview.js') }}"></script>
{% endblock %}
